{"ast":null,"code":"import _regeneratorRuntime from\"/Users/angelyang/Desktop/realchatapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/angelyang/Desktop/realchatapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/angelyang/Desktop/realchatapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef}from'react';// import './index.css';\nimport{Auth}from'./components/Auth';//imports for our cookies\nimport Cookies from'universal-cookie';import{Chat}from'./components/chat';import{signOut}from\"firebase/auth\";import{auth}from'./firebase-config';import'./App.css';import catImage from'./images/catimg.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var cookies=new Cookies();function App(){//will constantly check T/F whether the user is authenticated or not when app is running\n//must check the refresh token that was stored inside Auth.js using the cookies's getter under the name \"auth-token\"\n//initial authentication value will be set to the auth-token; null if never authenticated\nvar _useState=useState(cookies.get(\"auth-token\")),_useState2=_slicedToArray(_useState,2),isAuth=_useState2[0],setIsAuth=_useState2[1];//state that keeps track of our chatroom\nvar _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),room=_useState4[0],setRoom=_useState4[1];//state that keeps track of user chat name\nvar _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userChatName=_useState6[0],setUserChatName=_useState6[1];//used to hold a reference to the user input\nvar roomInputRef=useRef(null);var chatNameRef=useRef(null);//function to sign user out of their google account\nvar signUserOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return signOut(auth);case 2://remove the cookies from the browser with login info\ncookies.remove(\"auth-token\");//set authentication back to false\nsetIsAuth(false);//disable the room to null\nsetRoom(null);case 5:case\"end\":return _context.stop();}},_callee);}));return function signUserOut(){return _ref.apply(this,arguments);};}();// updates the states for both room name and user's chat name\nvar setRoomAndName=function setRoomAndName(roomName,chatName){setRoom(roomName);setUserChatName(chatName);};//if the user is not authenticated, show them the login page.\n//Else, navigate to the chat room\nif(!isAuth){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"app-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\" Welcome to Meow Chat Room \"})}),/*#__PURE__*/_jsx(\"img\",{className:\"app-img\",src:catImage,alt:\"Image of a cat\"}),/*#__PURE__*/_jsx(Auth,{setIsAuth:setIsAuth})]});}//if user is authenticated...\n//if room exist --> go to the chat room \n//if room does NOT exist --> create chat room with user inputs\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[//check room and set to a room\nroom?/*#__PURE__*/ // ROOM EXIST! --> open Chat component\n_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(Chat,{room:room,userChatName:userChatName}),\" \"]}):/*#__PURE__*/ //  ROOM DOES NOT EXIST\n_jsxs(\"div\",{className:\"room\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Enter Your Chat Name: \"}),/*#__PURE__*/_jsx(\"input\",{ref:chatNameRef}),/*#__PURE__*/_jsx(\"label\",{children:\" Enter Room Name: \"}),/*#__PURE__*/_jsx(\"input\",{ref:roomInputRef}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setRoomAndName(roomInputRef.current.value,chatNameRef.current.value);},children:\" Enter Chat\"})]}),\"`\",/*#__PURE__*/_jsx(\"div\",{className:\"sign-out\",children:/*#__PURE__*/_jsx(\"button\",{onClick:signUserOut,children:\" Sign Out \"})})]});}export default App;","map":{"version":3,"names":["useState","useRef","Auth","Cookies","Chat","signOut","auth","catImage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","cookies","App","_useState","get","_useState2","_slicedToArray","isAuth","setIsAuth","_useState3","_useState4","room","setRoom","_useState5","_useState6","userChatName","setUserChatName","roomInputRef","chatNameRef","signUserOut","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","remove","stop","apply","arguments","setRoomAndName","roomName","chatName","className","children","src","alt","ref","onClick","current","value"],"sources":["/Users/angelyang/Desktop/realchatapp/src/App.js"],"sourcesContent":["import { useState, useRef} from 'react';\n// import './index.css';\nimport {Auth} from './components/Auth'\n//imports for our cookies\nimport Cookies from 'universal-cookie';\nimport { Chat } from './components/chat';\nimport {signOut} from \"firebase/auth\"\nimport {auth} from './firebase-config'\nimport './App.css';\nimport catImage from './images/catimg.png';\n\nconst cookies = new Cookies();\n\nfunction App() {\n\n  //will constantly check T/F whether the user is authenticated or not when app is running\n  //must check the refresh token that was stored inside Auth.js using the cookies's getter under the name \"auth-token\"\n  //initial authentication value will be set to the auth-token; null if never authenticated\n  const [isAuth, setIsAuth] = useState(cookies.get(\"auth-token\"));\n\n  //state that keeps track of our chatroom\n  const [room, setRoom] = useState(null);\n\n  //state that keeps track of user chat name\n  const [userChatName, setUserChatName] = useState(\"\");\n\n  //used to hold a reference to the user input\n  const roomInputRef = useRef(null);\n\n  const chatNameRef = useRef(null);\n\n  //function to sign user out of their google account\n  const signUserOut =  async () => {\n    await signOut(auth);\n    //remove the cookies from the browser with login info\n    cookies.remove(\"auth-token\");\n    //set authentication back to false\n    setIsAuth(false);\n    //disable the room to null\n    setRoom(null);\n  }\n\n  // updates the states for both room name and user's chat name\n  const setRoomAndName = (roomName, chatName) => {\n    setRoom(roomName);\n    setUserChatName(chatName);\n  }\n\n\n  //if the user is not authenticated, show them the login page.\n  //Else, navigate to the chat room\n  if (!isAuth) {\n\n    return (\n      <div className=\"App\">\n        <div className=\"app-header\"> \n            <h1> Welcome to Meow Chat Room </h1>\n        </div>\n        <img className=\"app-img\" src={catImage} alt=\"Image of a cat\"/>\n        {/** NAVIGATE TO LOGIN PAGE */}\n        {/** pass in auth state to be changed when user authenticates*/}\n        <Auth setIsAuth = {setIsAuth}/>\n      </div>\n    );\n  } \n\n  //if user is authenticated...\n  //if room exist --> go to the chat room \n  //if room does NOT exist --> create chat room with user inputs\n  \n  return (\n  <> \n    {\n    //check room and set to a room\n    room ? \n      // ROOM EXIST! --> open Chat component\n    (<div> <Chat room={room} userChatName={userChatName}/> </div>) : \n\n    //  ROOM DOES NOT EXIST\n    (\n    <div className=\"room\"> \n    <label> Enter Your Chat Name: </label>\n    <input ref={chatNameRef}/>\n    {/* <button onClick={() => setUserChatName(chatNameRef.current.value)}> create chat name </button> */}\n\n    <label> Enter Room Name: </label>\n      {/** grabs the input and stores it inside roomInputRef*/}\n    <input ref={roomInputRef}/>\n\n      {/** room state will be set to the value of roomInputRef AKA chat name set by users */}\n    <button onClick={() => setRoomAndName(roomInputRef.current.value, chatNameRef.current.value)}> Enter Chat</button>\n    </div>\n    \n    )}\n  \n  `<div className=\"sign-out\">\n      <button onClick={signUserOut}> Sign Out </button>\n  </div>\n  </>\n  \n  );\n\n \n  \n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}